<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chatbot</title>
    <link rel="stylesheet" href="/src/styles/chatbot.css" />
  </head>
  <body>
    <div class="chatbot">
      <div class="chat-window">
        <!-- Messages will appear here -->
      </div>
      <div class="chat-input">
        <input
          type="text"
          id="userMessage"
          placeholder="Type a message..."
        />
        <button onclick="sendMessage()">Send</button>
      </div>
    </div>

    <script>
      const messages = [
        { sender: "bot", text: "Hello! How can I help you today?" },
      ];

      function sendMessage() {
        const userMessage = document.getElementById("userMessage").value;
        if (userMessage.trim() === "") return;

        // Display user message
        messages.push({ sender: "user", text: userMessage });
        displayMessages();

        // Display bot response (basic for now)
        setTimeout(() => {
          const botResponse = "I'm a simple bot! I heard you!";
          messages.push({ sender: "bot", text: botResponse });
          displayMessages();
        }, 1000);
      }

      function displayMessages() {
        const chatWindow = document.querySelector(".chat-window");
        chatWindow.innerHTML = ""; // Clear chat window

        messages.forEach((msg) => {
          const messageElement = document.createElement("div");
          messageElement.className = msg.sender;
          messageElement.innerHTML = `<p>${msg.text}</p>`;
          chatWindow.appendChild(messageElement);
        });

        // Auto-scroll to the bottom of the chat window
        chatWindow.scrollTop = chatWindow.scrollHeight;
      }

      displayMessages(); // Initially display bot's greeting
    </script>
  </body>
</html>
